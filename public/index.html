<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Clanner</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<div class="glass">
    <h1>CLANNER</h1>
    <p>쮐햫혰혝혧 쮏햪쮏쒬 향 햠쮐쮏 <b>@Clanner_bot</b></p>

    <div class="stats">
        <p>游논 뉌혧쮏: <span id="total">0</span></p>
        <p>游릭 뤯쫧햟햧햫: <span id="online">0</span></p>
    </div>
</div>

<script>
const ws = new WebSocket(location.origin.replace(/^http/, "ws"));

ws.onmessage = (event) => {
    const data = JSON.parse(event.data);
    document.getElementById("online").innerText = data.online;
};

async function loadStats() {
    const res = await fetch("/api/stats");
    const data = await res.json();
    document.getElementById("total").innerText = data.total;
}

loadStats();
setInterval(loadStats, 5000);
</script>

</body>
</html>
